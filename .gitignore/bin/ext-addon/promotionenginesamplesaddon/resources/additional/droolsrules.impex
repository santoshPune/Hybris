INSERT_UPDATE DroolsKIEBase;name[unique=true];kieModule(name)[unique=true];rules(code)[mode=append];
;promotions-base;promotions-module;percentageCartLevelDiscountForUserGroup,orderThresholdPerfectPartnerFixedPrice,orderThresholdFreeTripodGift,absoluteCartLevelDiscountForUserGroupAndThreshold,orderThreshold200FixedPrice,apparelOrderThreshold200FixedPrice;

INSERT_UPDATE DroolsRule;uuid;code[unique=true];rulePackage;active[default=false];globals;ruleType(code)[default=PROMOTION];ruleGroupCode;
;orderThreshold200FixedPrice;orderThreshold200FixedPrice;de.hybris.platform.promotionengineservices.test;true;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;percentageCartLevelDiscountForUserGroup;percentageCartLevelDiscountForUserGroup;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;orderThresholdPerfectPartnerFixedPrice;orderThresholdPerfectPartnerFixedPrice;de.hybris.platform.promotionengineservices.test;;addFixedPriceEntryDiscountRAOAction->addFixedPriceEntryDiscountRAOAction;;;
;orderThresholdFreeTripodGift;orderThresholdFreeTripodGift;de.hybris.platform.promotionengineservices.test;;addProductToCartRAOAction->addProductToCartRAOAction;;;
;absoluteCartLevelDiscountForUserGroupAndThreshold;absoluteCartLevelDiscountForUserGroupAndThreshold;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;apparelOrderThreshold200FixedPrice;apparelOrderThreshold200FixedPrice;de.hybris.platform.promotionengineservices.test;true;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;orderThresholdChangeDeliveryMode;orderThresholdChangeDeliveryMode;de.hybris.platform.promotionengineservices.test;;changeDeliveryModeRAOAction->changeDeliveryModeRAOAction;;;
;entryDiscountForCamcorderCategory;entryDiscountForCamcorderCategory;de.hybris.platform.promotionengineservices.test;;addOrderEntryDiscountRAOAction->addOrderEntryDiscountRAOAction;;;
;orderThresholdDiscountExcludingPowershotA480;orderThresholdDiscountExcludingPowershotA480;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;orderThreshold200FixedPrice;orderThreshold200FixedPrice;de.hybris.platform.promotionengineservices.test;true;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;fixedPriceForCanonCompactCameras;fixedPriceForCanonCompactCameras;de.hybris.platform.promotionengineservices.test;;addFixedPriceEntryDiscountRAOAction->addFixedPriceEntryDiscountRAOAction;;;
;fixedPriceForPowershotA480;fixedPriceForPowershotA480;de.hybris.platform.promotionengineservices.test;;addFixedPriceEntryDiscountRAOAction->addFixedPriceEntryDiscountRAOAction;;;
;percentageDiscountForCanonCompact;percentageDiscountForCanonCompact;de.hybris.platform.promotionengineservices.test;;addOrderEntryDiscountRAOAction->addOrderEntryDiscountRAOAction;;;
;freeGiftForComplexBundle;freeGiftForComplexBundle;de.hybris.platform.promotionengineservices.test;;addProductToCartRAOAction->addProductToCartRAOAction;;;
;buyTwoGetOneFreeMemoryCards;buyTwoGetOneFreeMemoryCards;de.hybris.platform.promotionengineservices.test;;addFreeProductDiscountRAOAction->addFreeProductDiscountRAOAction;;;
;percentageDiscountCameraAccessories;percentageDiscountCameraAccessories;de.hybris.platform.promotionengineservices.test;;addOrderEntryDiscountRAOAction->addOrderEntryDiscountRAOAction;;;
;fixedPriceCategoryQuantity;fixedPriceCategoryQuantity;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;simpleProductBundleFixedPrice;simpleProductBundleFixedPrice;de.hybris.platform.promotionengineservices.test;;addOrderEntryGroupFixedPriceDiscountRAOAction->addOrderEntryGroupFixedPriceDiscountRAOAction;;;
;multibuyFixedPrice;multibuyFixedPrice;de.hybris.platform.promotionengineservices.test;true;addProductToCartRAOAction->addProductToCartRAOAction;;;
;complexProductBundleFixedPrice;complexProductBundleFixedPrice;de.hybris.platform.promotionengineservices.test;;addOrderEntryGroupFixedPriceDiscountRAOAction->addOrderEntryGroupFixedPriceDiscountRAOAction;;;
;freeGiftNotMoreThanTwice;freeGiftNotMoreThanTwice;de.hybris.platform.promotionengineservices.test;;addProductToCartRAOAction->addProductToCartRAOAction;;;
;perfectPartner;perfectPartner;de.hybris.platform.promotionengineservices.test;true;addOrderEntryDiscountRAOAction->addOrderEntryDiscountRAOAction;;
;orderThresholdAbsoluteDiscountRule1Group1;orderThresholdAbsoluteDiscountRule1Group1;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;orderThresholdGroup;
;orderThresholdAbsoluteDiscountRule2Group1;orderThresholdAbsoluteDiscountRule2Group1;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;orderThresholdGroup;
;orderThresholdAbsoluteDiscountRule3Group1;orderThresholdAbsoluteDiscountRule3Group1;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;orderThresholdGroup;
;orderThresholdAbsoluteDiscountRule4DefaultGroup;orderThresholdAbsoluteDiscountRule4DefaultGroup;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;orderThresholdAbsoluteDiscountRule5DefaultGroup;orderThresholdAbsoluteDiscountRule5DefaultGroup;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;orderThresholdAbsoluteDiscountRule6DefaultGroup;orderThresholdAbsoluteDiscountRule6DefaultGroup;de.hybris.platform.promotionengineservices.test;;addOrderDiscountRAOAction->addOrderDiscountRAOAction;;;
;potentialOrderThresholdDiscountMessage;potentialOrderThresholdDiscountMessage;de.hybris.platform.promotionengineservices.test;;displayMessageRAOAction->displayMessageRAOAction;;;
;potentialBuyTwoGetOneForFreeMessage;potentialBuyTwoGetOneForFreeMessage;de.hybris.platform.promotionengineservices.test;;displayMessageRAOAction->displayMessageRAOAction;;;
;partnerProductFixedPriceListOfStrategies;partnerProductFixedPriceListOfStrategies;de.hybris.platform.promotionengineservices.test;;addFixedPriceEntryDiscountRAOAction->addFixedPriceEntryDiscountRAOAction;;;
;partnerProductAbsoluteDiscountListOfStrategies;partnerProductAbsoluteDiscountListOfStrategies;de.hybris.platform.promotionengineservices.test;;addOrderEntryDiscountRAOAction->addOrderEntryDiscountRAOAction;;;
;partnerProductPercentageDiscountListOfStrategies;partnerProductPercentageDiscountListOfStrategies;de.hybris.platform.promotionengineservices.test;;addOrderEntryDiscountRAOAction->addOrderEntryDiscountRAOAction;;;

UPDATE DroolsRule;code[unique=true];ruleContent[translator=de.hybris.platform.ruleengineservices.util.FileLoaderValueTranslator]
;orderThreshold200FixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThreshold200FixedPrice.drl";
;percentageCartLevelDiscountForUserGroup;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/percentageCartLevelDiscountForUserGroup.drl";
;orderThresholdPerfectPartnerFixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdPerfectPartnerFixedPrice.drl";
;orderThresholdFreeTripodGift;jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdFreeTripodGift.drl
;absoluteCartLevelDiscountForUserGroupAndThreshold;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/absoluteCartLevelDiscountForUserGroupAndThreshold.drl";
;apparelOrderThreshold200FixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/apparelOrderThreshold200FixedPrice.drl";
;orderThresholdChangeDeliveryMode;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdChangeDeliveryMode.drl";
;entryDiscountForCamcorderCategory;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/entryDiscountForCamcorderCategory.drl";
;orderThresholdDiscountExcludingPowershotA480;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdDiscountExcludingPowershotA480.drl";
;orderThreshold200FixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThreshold200FixedPrice.drl";
;fixedPriceForCanonCompactCameras;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/fixedPriceForCanonCompactCameras.drl";
;fixedPriceForPowershotA480;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/fixedPriceForPowershotA480.drl";
;percentageDiscountForCanonCompact;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/percentageDiscountForCanonCompact.drl";
;freeGiftForComplexBundle;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/freeGiftForComplexBundle.drl";
;buyTwoGetOneFreeMemoryCards;jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/buyTwoGetOneFreeMemoryCards.drl
;percentageDiscountCameraAccessories;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/percentageDiscountCameraAccessories.drl";
;fixedPriceCategoryQuantity;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/fixedPriceCategoryQuantity.drl";
;simpleProductBundleFixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/simpleProductBundleFixedPrice.drl";
;multibuyFixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/multibuyFixedPrice.drl";
;complexProductBundleFixedPrice;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/complexProductBundleFixedPrice.drl";
;perfectPartner;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/perfectPartner.drl";
;freeGiftNotMoreThanTwice;jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/freeGiftNotMoreThanTwice.drl;
;orderThresholdAbsoluteDiscountRule1Group1;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdAbsoluteDiscountRule1Group1.drl";
;orderThresholdAbsoluteDiscountRule2Group1;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdAbsoluteDiscountRule2Group1.drl";
;orderThresholdAbsoluteDiscountRule3Group1;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdAbsoluteDiscountRule3Group1.drl";
;orderThresholdAbsoluteDiscountRule4DefaultGroup;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdAbsoluteDiscountRule4DefaultGroup.drl";
;orderThresholdAbsoluteDiscountRule5DefaultGroup;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdAbsoluteDiscountRule5DefaultGroup.drl";
;orderThresholdAbsoluteDiscountRule6DefaultGroup;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/orderThresholdAbsoluteDiscountRule6DefaultGroup.drl";
;potentialOrderThresholdDiscountMessage;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/potentialOrderThresholdDiscountMessage.drl";
;potentialBuyTwoGetOneForFreeMessage;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/potentialBuyTwoGetOneForFreeMessage.drl";
;partnerProductFixedPriceListOfStrategies;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/partnerProductFixedPriceListOfStrategies.drl";
;partnerProductAbsoluteDiscountListOfStrategies;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/partnerProductAbsoluteDiscountListOfStrategies.drl";
;partnerProductPercentageDiscountListOfStrategies;"jar:de.hybris.platform.constants.PromotionEngineSamplesAddonConstants&/rules/partnerProductPercentageDiscountListOfStrategies.drl";


INSERT_UPDATE RuleBasedPromotion;code[unique=true];title;rule(code);enabled[default=true];
;percentageCartLevelDiscountForUserGroupPromotion;"10% off on cart for employee";percentageCartLevelDiscountForUserGroup;false;;
;absoluteCartLevelDiscountForUserGroupAndThresholdPromotion;"All registered customers (anyone but anonymous) get $5 off cart for order above $50";absoluteCartLevelDiscountForUserGroupAndThreshold;false;;
;orderThresholdPerfectPartnerFixedPricePromotion;"Fixed Price Discount on InfoLithium battery for Orders over $400";orderThresholdPerfectPartnerFixedPrice;false;;
;orderThreshold200FixedPricePromotion;"Fixed Price Discount for Orders over 200 USD";orderThreshold200FixedPrice;true;;
;orderThresholdFreeTripodGiftPromotion;"Free Tripod for spending over $500";orderThresholdFreeTripodGift;false;;
;apparelOrderThreshold200FixedPricePromotion;"Fixed Price Discount for Apparel Orders over 200 GBP";apparelOrderThreshold200FixedPrice;true;;
;orderThresholdChangeDeliveryModePromotion;"Free shipping on all orders above $100";orderThresholdChangeDeliveryMode;false;;
;entryDiscountForCamcorderCategoryPromotion;"$15 discount for Camcorders";entryDiscountForCamcorderCategory;false;;
;orderThresholdDiscountExcludingPowershotA480Promotion;"Order threshold excluding products";orderThresholdDiscountExcludingPowershotA480;true;;
;orderThreshold200FixedPricePromotion;"Fixed Price Discount for Orders over 200 USD";orderThreshold200FixedPrice;true;;
;fixedPriceForCanonCompactCamerasPromotion;"Canon digital compact camera for $60";fixedPriceForCanonCompactCameras;false;;
;fixedPriceForPowershotA480Promotion;"Powershot A480 for $60";fixedPriceForPowershotA480;false;;
;percentageDiscountForCanonCompactPromotion;"10% off on Canon digital compact camera";percentageDiscountForCanonCompact;false;;
;freeGiftForComplexBundlePromotion;"Get a free 32GB memory card with selected camera and lense bundles";freeGiftForComplexBundle;false;;
;buyTwoGetOneFreeMemoryCardsPromotion;"Buy 3 Memory Cards, get 1 free";buyTwoGetOneFreeMemoryCards;false;;
;percentageDiscountCameraAccessoriesPromotion;"5% off on Camera accessories and supplies for order over $150";percentageDiscountCameraAccessories;false;;
;fixedPriceCategoryQuantityPromotion;"$5 off colour film";fixedPriceCategoryQuantity;false;;
;simpleProductBundleFixedPricePromotion;"HD Video camera, tripod and battery charger as bundle for $500.00";simpleProductBundleFixedPrice;false;;
;multibuyFixedPricePromotion;"Multibuy: 3 films rolls for $10";multibuyFixedPrice;false;;
;complexProductBundleFixedPricePromotion;"Buy the Cannon EOS 500D with any 2 memory cards and any Cannon camera flash - for a bundle price of $1000";complexProductBundleFixedPrice;false;;
;freeGiftNotMoreThanTwicePromotion;"Get free SD card for every digital compact (not more than twice)";freeGiftNotMoreThanTwice;false;;
;orderThresholdAbsoluteDiscountRule1Group1Promotion;"$11.00 off cart for order above $250 (rulegroup orderThreshold)";orderThresholdAbsoluteDiscountRule1Group1;false;;
;orderThresholdAbsoluteDiscountRule2Group1Promotion;"$10.20 off cart for order above $250 (rulegroup orderThreshold)";orderThresholdAbsoluteDiscountRule2Group1;false;;
;orderThresholdAbsoluteDiscountRule3Group1Promotion;"$10.03 off cart for order above $250 (rulegroup orderThreshold)";orderThresholdAbsoluteDiscountRule3Group1;false;;
;orderThresholdAbsoluteDiscountRule4DefaultGroupPromotion;"$11.00 off cart for order above $250 (default rule group)";orderThresholdAbsoluteDiscountRule4DefaultGroup;false;;
;orderThresholdAbsoluteDiscountRule5DefaultGroupPromotion;"$10.20 off cart for order above $250 (default rule group)";orderThresholdAbsoluteDiscountRule5DefaultGroup;false;;
;orderThresholdAbsoluteDiscountRule6DefaultGroupPromotion;"$10.03 off cart for order above $250 (default rule group)";orderThresholdAbsoluteDiscountRule6DefaultGroup;false;;
;potentialOrderThresholdDiscountMessagePromotion;"Spend over 200 USD to get a 20 USD discount";potentialOrderThresholdDiscountMessage;true;;
;potentialBuyTwoGetOneForFreeMessagePromotion;"If you buy 3 memory cards you get 1 card for free";potentialBuyTwoGetOneForFreeMessage;true;;
;partnerProductFixedPriceListOfStrategiesPromotion;"Buy 1 compact camera, 1 tripod and 2 memory cards and get 2 memory cards for pice $3 per unit";partnerProductFixedPriceListOfStrategies;true;;
;partnerProductAbsoluteDiscountListOfStrategiesPromotion;"Buy 1 compact camera, 1 tripod and 2 memory cards and get 2 memory cards with $4 discount per unit";partnerProductAbsoluteDiscountListOfStrategies;true;;
;partnerProductPercentageDiscountListOfStrategiesPromotion;"Buy 1 compact camera, 1 tripod and 2 memory cards and get 2 memory cards with 20% discount";partnerProductPercentageDiscountListOfStrategies;true;;


UPDATE DroolsRule;code[unique=true];maxAllowedRuns;
;apparelOrderThreshold200FixedPrice;1;
;orderThresholdChangeDeliveryMode;1;
;freeGiftNotMoreThanTwice;2;
;potentialOrderThresholdDiscountMessage;1;
;potentialBuyTwoGetOneForFreeMessage;1;
;orderThresholdAbsoluteDiscountRule1Group1;1;
;orderThresholdAbsoluteDiscountRule2Group1;1;
;orderThresholdAbsoluteDiscountRule3Group1;1;
;orderThresholdAbsoluteDiscountRule4DefaultGroup;1;
;orderThresholdAbsoluteDiscountRule5DefaultGroup;1;
;orderThresholdAbsoluteDiscountRule6DefaultGroup;1;
;multibuyFixedPrice;1;
;buyTwoGetOneFreeMemoryCards;1;